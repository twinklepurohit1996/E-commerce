<div class="main-content">
    <div class="container-fluid">

        <div class="row">
            <div class="col-lg-12 col-md-12">
                <div class="card">
                    <div class="card-header card-header-warning">
                        <div class="row">
                            <div class="col-sm-6">
                                <h4 class="card-title">Categories List</h4>
                                <p class="card-category">List of Categories</p>
                            </div>
                            <div class="col-sm-6">
                                <p  class="float-right"><button class="btn btn-danger"
                                data-backdrop="static" data-keyboard="false" data-toggle="modal"
                                data-target="#exampleModal" (click)="onAdd()">Add Categories</button></p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body table-responsive">
                        <table class="table table-hover">
                            <thead class="text-dark font-weight-bold">
                                <th>ID</th>
                                <th>Image</th>
                                <th>Categories Name</th>
                                <th>Action</th>
                                <!-- <th>Delete</th> -->
                            </thead>
                            <tbody>
                                <tr>
                                    
                                    <tr *ngFor="let cate of cateInfo; let i = index" [attr.data-index]="i">
                                        <td>{{i+1}}</td>
                                        <td>
                                            <img class="avatar border-gray" width="45px" height="45px" style="border-radius:50%;"  src="{{cate.file}}"
                                            alt="User Image" />
                                        </td>
                                        <td>{{cate.cate_name}}</td>
                                        <td role="button">
                                            <i class="fa fa-edit mx-2" (click)="onEdit(cate._id)" data-toggle="modal"
                                            data-target="#exampleModal"></i>
                                            <i class="fa fa-trash mx-2" (click)="deleteCate(cate._id)"></i>
                                        </td>
                                        <!-- <td role="button"></td> -->

                                    </tr>
                               
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>


            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel" *ngIf="isAdd">Add Categories</h5>
                            <h5 class="modal-title" id="exampleModalLabel" *ngIf="!isAdd">Edit Categories</h5>

                            <button type="button" class="close mr-5" data-dismiss="modal" aria-label="Close"
                               >
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form [formGroup]="addCategoriesForm" (ngSubmit)="addEditCategories();">
                                <div class="row">
                                    <div class="col-sm-3"></div>
                                    <div class="col-sm-6 ">
                                        <div class="form-group">
                                            <label>Categories Name</label>
                                            <input type="text" class="form-control" formControlName="cate_name"
                                                placeholder="Enter your First name">
                                        </div>
                                        <ng-container *ngIf="submitted">
                                            <ng-container *ngFor="let v of validationMessages.cate_name">
                                                <p *ngIf="addCategoriesForm.get('cate_name').hasError(v.type)" class="text-danger"
                                                    [innerText]="v.message"></p>
                                            </ng-container>
                                        </ng-container>
                                        <div class="form-group">
                                            <label>Categories Image</label>
                                            <input id="input-file-id" type="file" formControlName="file"
                                                (change)="onFileSelected($event)" />
                                        </div>
                                        <ng-container *ngIf="submitted">
                                            <ng-container *ngFor="let v of validationMessages.file">
                                                <p *ngIf="addCategoriesForm.get('file').hasError(v.type)" class="text-danger"
                                                    [innerText]="v.message"></p>
                                            </ng-container>
                                        </ng-container>
                                        <div class="modal-footer ">
                                            <!-- <button type="reset" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
                                            <input type="submit" value="Insert" *ngIf="isAdd" class="btn btn-info btn-fill pull-right" />
                                            <input type="submit" value="Update" *ngIf="!isAdd" class="btn btn-info btn-fill pull-right" />
    
                                            <button type="reset" (click)="onReset()" class="btn btn-primary">Reset</button> 
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="col-sm-3"></div>
                        </div>
                    </form>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>